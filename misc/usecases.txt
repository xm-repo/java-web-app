

UTF-8 ENCODING

Вариант #21. 

Система информации о структуре собственности
Система управления информацией о структуре собственности для некоторой группы компаний.

Поддерживаемые данные
Физические лица
1. ФИО
2. Краткая биография
3. Собственность — в каких компаниях каким процентом акций владеет 
Компании
1. Название
2. Действует/потеряла статус отдельного юр. лица
3. Год основания
4. История смены названий
5. История сделок по покупке/поглощению других компаний
6. Владельцы — кто или какая компания какой частью акций владеет
7. Владения — в каких компаниях какой частью владеет

Поддерживаемые операции
1. Получение списка людей по прямо или непрямо контролируемым ими компаниям
2. Получение полной информации о собственности для человека или компании — каким процентом где владеют, с транзитивным замыканием
3. Получение полной структуры владения для компании — кто и какой частью владеет, с транзитивным замыканием
4. Получение цепочки связи между двумя компаниями (как направленной, как и со сменой направления владения)
5. Добавление данных о человеке или компании, их чтение и редактирование


#1 Главная страница.

    1. Кнопка "Физические лицах" -> страница физических лиц (#2).
    2. Кнопка "Юридических лицах" -> страница юридических лиц (#3).
    3. Кнопка "Владельцы" -> страница владельцев (#4).
    4. Кнопка "Структура собственности" -> страница структуры собственности (#7).
    5. Поле для ввода (ФИО) и кнопка "Поиск физического лица"  -> страница физического лица (#5).
        (если не удалось найти, возвращаемся на главную страницу).
    6. Поле для ввода (название компании) и кнопка "Поиск юридического лица" -> страница юридического лица (#6).
        (если не удалось найти, возвращаемся на главную страницу).

#2 Страница физических лиц.

    1. Поля для ввода данных (ФИО, контакты, биография) и кнопка "Сохранить" 
        (при добавлении выводится сообщение об удачном добавлении или сообщение об ошибке) -> страница физических лиц с обновленными данными (#2).
    2. Вывод информации о физических лицах (ФИО, контакты, биография) в виде таблицы (из Physical person) 
        (планируется сделать каждую запись в таблице ссылкой, по которой можно перейти на страницу физических лиц (#2) для редактирования).
    3. У каждой строки в таблице кнопка "Собственность"(->#7), "Редактировать"(->#2), "Удалить"(->#2).
	4. Кнопка "На главную страницу" -> на главную страницу (#1).

#3 Страница юридических лиц. 

    1. Поля для ввода данных (название компании, дата основания, доп. информация) и кнопка "Сохранить" 
        (при добавлении выводится сообщение об удачном добавлении или сообщение об ошибке) -> страница юридических лиц с обновленными данными (#3).
    2. Вывод информации о юридических лицах в виде таблицы (название компании, дата основания, статус юр.лица, доп. информация) (из Legal entity) 
        (планируется сделать каждую запись в таблице ссылкой, по которой можно перейти на страницу юридических лиц (#3) для редактирования).
    3. У каждой строки в таблице кнопка "Собственность"(->#7), "История сделок"(->#6), "История названий" (->#5), "Редактировать"(->#3), "Удалить"(->#3).
    
    (при смене названия во время редактирования в таблицу истории названий автоматически добавляется новая запись)
    
    4. Кнопка "На главную страницу" -> на главную страницу (#1).

#4 Страница владельцев.
    
	1. Поля для ввода данных (кто, в какой компании, чем владеет) и кнопка "Сохранить" 
       (при добавлении выводится сообщение об удачном добавлении или сообщение об ошибке) -> страница владельцев с обновленными данными (#4).
    2. Вывод информации о владельцах (кто, в какой компании, чем владеет) в виде двух таблиц (отдельно для людей и компаний) (из Owner).
    4. У каждой строки в таблице кнопка "Редактировать"(->#4), "Удалить"(->#4).
    3. Кнопка "На главную страницу" -> на главную страницу (#1).

#5 Страница истории названий компании.

    1. Вывод истории названий компании (дата смены, старое название, доп. информация) в виде таблицы (из History).
    2. У каждой строки в таблице кнопка "Удалить"(->#9).

#6 Информация о поглощении других компаний.

    1. Вывод истории поглощений других компании (дата, кого поглотили, доп. информация) в виде таблицы (из Business).
    2. У каждой строки в таблице кнопка "Удалить"(->#11).

#7 Структура собственности.

    1. Вывод транзитивного замыкания собственности для соответствующего человека или компании, или всех данных о собственности из базы в двух таблицах
        (отдельно для людей и компаний).

        Структура собственности отображается в виде ориентированного графа с помеченными ребрами. Вершины - компании или люди, ребро ведет от одной вершины к другой, 
        если человек/компания чем-то владеет в другой компании, пометка ребра - чем владеет, для поглощения используется ребро специльного цвета. 
        На такой картинке будет удобно и наглядно видно, на какие компании имеет влияние явно/неявно человек или компания, 
        и дополнительно для компании: от каких компаний/людей зависит явно/неявно. Для изображения графа планируется 
        использовать библиотеку javascript D3 и выглядеть это будет примерно как на вложенной картинке "example" + с цветными и помеченными ребрами.
 
    5. Кнопка "На главную страницу" -> на главную страницу (#1).

Сценарии использования

    1. Просмотр информации обо всех физических лицах в базе данных (ФИО, контакты, биография), редактирование, добавление новых физических лиц:
        переход с главной страницы (#1) на страницу физических лиц (#2), кнопка "Физические лицах" (#1 -> #2).

    2. Просмотр информации обо всех юридических лицах в базе данных(название компании, дата основания, статус юр.лица, доп. информация), 
        редактирование, добавление новых юридических лиц:
        переход с главной страницы (#1) на страницу юридических лиц (#3), кнопка "Юридические лицах" (#1 -> #3).

    3. Просмотр информации обо всех владельцах в базе данных (кто, в какой компании, чем владеет), редактирование, и добавление новой собственности:
        переход с главной страницы (#1) на страницу владельцев (#4), кнопка "Владельцы" (#1 -> #4).

    4. Просмотр истории смены названий конкретной компании (дата смены, старое название, доп. информация):
        переход со страницы юридических лиц (#3) на страницу истории названий компании (#5), кнопка "История названий" (#3 -> #5).

    5. Просмотр истории поглощений конкретной компании (дата, кого поглотили, доп. информация):
        переход со страницы юридических лиц (#3) на страницу информации о поглощении других компаний, кнопка "История поглощений" (#6) (#3 -> #6).

    6. Просмотр структуры собственности для человека или компании, или всех данных в базе в виде графа: здесь можно узнать, на какие компании
		имеет влияние явно/неявно человек или компания, и дополнительно для компании: от каких компаний/людей она зависит явно/неявно:  
        переход с главной страницы (#1) на страницу структуры собственности (#7), кнопка "Структура собственности"(#1 -> 7),
        переход со страницы юридических лиц (#3) на страницу структуры собственности (#7), кнопка "Структура собственности"(#3 -> 7),
        переход страницу физических лиц (#2) на страницу структуры собственности (#7), кнопка "Структура собственности"(#2 -> 7),
        
   